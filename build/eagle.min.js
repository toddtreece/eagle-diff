var Eagle={multiplier:100,version:null,drawing:null,xml:null,canvas:null,context:null,define:function(a,b){for(var d=a.split("."),c=window,e=0,f=d.length;e<f;e++)c[d[e]]=c[d[e]]||b,c=c[d[e]];return c},discernType:function(a){return isNaN(a)?"no"==a||"yes"==a?"yes"==a?!0:!1:a:(a=parseFloat(a),0===a%1?parseInt(a):a)},init:function(a,b){this.canvas=document.getElementById(a);this.context=canvas.getContext("2d");Eagle.get(b,function(d){Eagle.xml=d;Eagle.parse()})},parse:function(){$("eagle",this.xml).each(function(){Eagle.version=
Eagle.discernType(this.attr("version"))});$("drawing",this.xml).each(function(){Eagle.clear();var a=new Eagle.Drawing;a.parse(this);Eagle.drawing=a})},moveTo:function(a,b,d){return("undefined"!==typeof d&&d?"m":"M")+(this.paper.width/2+a)+" "+(this.paper.height/2-b)},lineTo:function(a,b,d){return("undefined"!==typeof d&&d?"l":"L")+(this.paper.width/2+a)+" "+(this.paper.height/2-b)},get:function(a,b){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&b(d.responseText)};d.open("GET",
a,!0);d.send()},clear:function(){Eagle.context.clearRect(0,0,Eagle.canvas.width,Eagle.canvas.height)}};Eagle.define("Eagle.Approved",function(){this.hash=null;this.parse=function(a){var b=this;$.each(a.attributes,function(d,a){b[a.name]=Eagle.discernType(a.value)})}});Eagle.define("Eagle.Attribute",function(){this.ratio=this.font=this.layer=this.size=this.y=this.x=this.value=this.name=null;this.rot=0;this.display="value";this.constant=!1;this.parse=function(a){var b=this;$.each(a.attributes,function(d,a){b[a.name]=Eagle.discernType(a.value)})}});Eagle.define("Eagle.Bus",function(){this.segment=this.name=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("segment",a).each(function(){var a=new Eagle.Segment;a.parse(this);b.segment=a})}});Eagle.define("Eagle.Circle",function(){this.layer=this.width=this.radius=this.y=this.x=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Class",function(){this.name=this.number=null;this.drill=this.width=0;this.clearance=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("clearance",a).each(function(){var a=new Eagle.Clearance;a.parse(this);b.clearance=a})}});Eagle.define("Eagle.Clearance",function(){this["class"]=null;this.value=0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Connect",function(){this.pad=this.pin=this.gate=null;this.route="all";this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Description",function(){this.language="en";this.content=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});this.content=$(a).html()}});Eagle.define("Eagle.Device",function(){this.name=null;this["package"]=null;this.connects=[];this.technologies=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("connects",a).each(function(){$("connect",this).each(function(){var a=new Eagle.Connect;a.parse(this);b.connects.push(a)})});$("technologies",a).each(function(){$("technology",this).each(function(){var a=new Eagle.Technology;a.parse(this);b.technologies.push(a)})})}});Eagle.define("Eagle.DeviceSet",function(){this.prefix=this.name=null;this.uservalue=!1;this.description=null;this.gates=[];this.devices=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("description",a).each(function(){var a=new Eagle.Description;a.parse(this);b.description=a});$("gates",a).each(function(){$("gate",this).each(function(){var a=new Eagle.Gate;a.parse(this);b.gates.push(a)})});$("devices",a).each(function(){$("device",this).each(function(){var a=
new Eagle.Device;a.parse(this);b.devices.push(a)})})}});Eagle.define("Eagle.Drawing",function(){this.board=this.schematic=this.grid=this.settings=null;this.layers=[];this.parse=function(a){var b=this;$("grid",a).each(function(){var a=new Eagle.Grid;a.parse(this);b.grid=a});$("settings",a).each(function(){var a=new Eagle.Settings;a.parse(this);b.settings=a});$("schematic",a).each(function(){var a=new Eagle.Schematic;a.parse(this);b.schematic=a});$("board",a).each(function(){var a=new Eagle.Board;a.parse(this);b.board=a});$("layers",a).each(function(){$("layer",
this).each(function(){var a=new Eagle.Layer;a.parse(this);b.layers.push(a)})})}});Eagle.define("Eagle.Frame",function(){this.layer=this.rows=this.columns=this.y2=this.x2=this.y1=this.x1=null;this["border-left"]=!0;this["border-top"]=!0;this["border-right"]=!0;this["border-bottom"]=!0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Gate",function(){this.y=this.x=this.symbol=this.name=null;this.addlevel="next";this.swaplevel=0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Grid",function(){this.unit=this.unitdist=this.distance=null;this.style="lines";this.multiple=1;this.display=!1;this.path=this.altunit=this.altunitdist=this.altdistance=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})};this.draw=function(){if(!this.display)return!1;var a="";width=Eagle.paper.width;height=Eagle.paper.height;for(var b=0;b<height;b+=this.distance)a+=Eagle.moveTo(0,b),a+=Eagle.lineTo(width,b);for(b=0;b<
width;b+=this.distance)a+=Eagle.moveTo(b,0),a+=Eagle.lineTo(b,height);Eagle.paper.path(a).attr({"stroke-width":0.1})}});Eagle.define("Eagle.Hole",function(){this.drill=this.y=this.x=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Instance",function(){this.y=this.x=this.gate=this.part=null;this.smashed=!1;this.rot=0;this.attribute=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("attribute",a).each(function(){var a=new Eagle.Attribute;a.parse(this);b.attribute=a})};this.draw=function(){}});Eagle.define("Eagle.Junction",function(){this.y=this.x=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Label",function(){this.layer=this.size=this.y=this.x=null;this.font="proportional";this.ratio=8;this.rot=0;this.xref=!1;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Layer",function(){this.fill=this.color=this.name=this.number=null;this.active=this.visible=!0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Library",function(){this.description=this.name=null;this.packages=[];this.symbols=[];this.devicesets=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("description",a).each(function(){var a=new Eagle.Description;a.parse(this);b.description=a});$("packages",a).each(function(){$("package",this).each(function(){var a=new Eagle.Package;a.parse(this);b.packages.push(a)})});$("symbols",a).each(function(){$("symbol",this).each(function(){var a=
new Eagle.Symbol;a.parse(this);b.symbols.push(a)})});$("devicesets",a).each(function(){$("deviceset",this).each(function(){var a=new Eagle.DeviceSet;a.parse(this);b.devicesets.push(a)})})};this.getSymbol=function(a){$.each(this.symbols,function(b,d){if(d.name==a)return a})}});Eagle.define("Eagle.Net",function(){this.name=null;this["class"]=0;this.segment=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("segment",a).each(function(){var a=new Eagle.Segment;a.parse(this);b.segment=a})}});Eagle.define("Eagle.Package",function(){this.description=this.name=null;this.types=[];this.valid_types="Polygon Wire Text Circle Rectangle Frame Hole Pad SMD".split(" ");this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("description",a).each(function(){var a=new Eagle.Description;a.parse(this);b.description=a});$.each(this.valid_types,function(d,c){$(c.toLowerCase(),a).each(function(){var a=new Eagle[c];a.parse(this);b.types.push(a)})})}});Eagle.define("Eagle.Pad",function(){this.drill=this.y=this.x=this.name=null;this.diameter=0;this.shape="round";this.rot=0;this.first=this.thermals=this.stop=!0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Param",function(){this.value=this.name=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Part",function(){this.value=this.technology=this.device=this.deviceset=this.library=this.name=null;this.attributes=[];this.variants=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("attributes",a).each(function(){var a=new Eagle.Attribute;a.parse(this);b.attributes.push(a)});$("variant",a).each(function(){var a=new Eagle.Variant;a.parse(this);b.variants.push(a)})}});Eagle.define("Eagle.Pass",function(){this.refer=this.name=null;this.active=!0;this.param=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("param",a).each(function(){var a=new Eagle.Param;a.parse(this);b.param=a})}});Eagle.define("Eagle.Pin",function(){this.y=this.x=this.name=null;this.visible="both";this.length="long";this.direction="io";this["function"]="none";this.rot=this.swaplevel=0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.PinRef",function(){this.pin=this.gate=this.part=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Polygon",function(){this.spacing=this.layer=this.width=null;this.pour="solid";this.isolate=null;this.orphans=!1;this.thermals=!0;this.rank=0;this.vertices=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("vertex",a).each(function(){var a=new Eagle.Vertex;a.parse(this);b.vertex.push(a)})}});Eagle.define("Eagle.Rectangle",function(){this.layer=this.y2=this.x2=this.y1=this.x1=null;this.rot=0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.SMD",function(){this.layer=this.dy=this.dx=this.y=this.x=this.name=null;this.rot=this.roundness=0;this.cream=this.thermals=this.stop=!0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Schematic",function(){this.xrefpart=this.xreflabel=null;this.libraries=[];this.attributes=[];this.variantdefs=[];this.classes=[];this.parts=[];this.sheets=[];this.errors=[];this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("libraries",a).each(function(){$("library",this).each(function(){var a=new Eagle.Library;a.parse(this);b.libraries.push(a)})});$("attributes",a).each(function(){$("attribute",this).each(function(){var a=
new Eagle.Attribute;a.parse(this);b.attributes.push(a)})});$("variantdefs",a).each(function(){$("variantdef",this).each(function(){var a=new Eagle.VariantDef;a.parse(this);b.variantdefs.push(a)})});$("classes",a).each(function(){$("class",this).each(function(){var a=new Eagle.Class;a.parse(this);b.classes.push(a)})});$("parts",a).each(function(){$("part",this).each(function(){var a=new Eagle.Part;a.parse(this);b.parts.push(a)})});$("sheets",a).each(function(){$("sheet",this).each(function(){var a=
new Eagle.Sheet;a.parse(this);b.sheets.push(a)})});$("errors",a).each(function(){$("error",this).each(function(){var a=new Eagle.Error;a.parse(this);b.errors.push(a)})})}});Eagle.define("Eagle.Segment",function(){this.type=null;this.valid_types=["PinRef","Wire","Junction","Label"];this.parse=function(a){var b=this;$.each(this.valid_types,function(d,c){$(c.toLowerCase(),a).each(function(){var a=new Eagle[c];a.parse(this);"Wire"==c&&a.draw();b.type=a})})}});Eagle.define("Eagle.Settings",function(){this.alwaysvectorfont=null;this.verticaltext="up";this.parse=function(a){var b=this;$("setting",a).each(function(){$.each(this.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})})}});Eagle.define("Eagle.Sheet",function(){this.description=null;this.instances=[];this.busses=[];this.nets=[];this.parse=function(a){var b=this;$("description",a).each(function(){var a=new Eagle.Description;a.parse(this);b.description=a});$("instances",a).each(function(){$("instance",this).each(function(){var a=new Eagle.Instance;a.parse(this);b.instances.push(a)})});$("busses",a).each(function(){$("bus",this).each(function(){var a=new Eagle.Bus;a.parse(this);b.busses.push(a)})});$("nets",a).each(function(){$("net",
this).each(function(){var a=new Eagle.Net;a.parse(this);b.nets.push(a)})})}});Eagle.define("Eagle.Symbol",function(){this.description=this.name=null;this.types=[];this.valid_types="Polygon Wire Text Pin Circle Rectangle Frame".split(" ");this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});$("description",a).each(function(){var a=new Eagle.Description;a.parse(this);b.description=a});$.each(this.valid_types,function(d,c){$(c.toLowerCase(),a).each(function(){var a=new Eagle[c];a.parse(this);b.types.push(a)})})}});Eagle.define("Eagle.Technology",function(){this.name=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Text",function(){this.layer=this.size=this.y=this.x=null;this.font="proportional";this.ratio=8;this.rot=0;this.align="bottom-left";this.content=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)});this.content=$(a).html()}});Eagle.define("Eagle.Variant",function(){this.name=null;this.populate=!0;this.technology=this.value=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.VariantDef",function(){this.name=null;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Vertex",function(){this.y=this.x=null;this.curve=0;this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}});Eagle.define("Eagle.Wire",function(){this.extent=this.layer=this.width=this.y2=this.x2=this.y1=this.x1=null;this.style="continuous";this.curve=0;this.cap="round";this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})};this.draw=function(){var a=Eagle.moveTo(this.x1,this.y1),a=a+Eagle.lineTo(this.x2,this.y2);return Eagle.paper.path(a).attr({stroke:"#FF0000"})}});
