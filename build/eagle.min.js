/*! eagle-diff version 0.0.1 2013-11-07 */
var Eagle={multiplier:100,version:null,drawing:null,xml:null,canvas:null,context:null,last:{x:0,y:0},define:function(a,b){for(var c=a.split("."),d=window,e=0,f=c.length;f>e;e++)d[c[e]]=d[c[e]]||b,d=d[c[e]];return d},discernType:function(a){return isNaN(a)?"no"==a||"yes"==a?"yes"==a?!0:!1:a:(a=parseFloat(a),a%1===0?parseInt(a):a)},init:function(a,b){this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),Eagle.get(b,function(a){Eagle.xml=a,Eagle.parse()})},parse:function(){if(!this.xml)throw"Loading failed";if(window.DOMParser){var a=new DOMParser;this.parsed=a.parseFromString(this.xml,"text/xml")}else this.parsed=new ActiveXObject("Microsoft.XMLDOM"),this.parsed.async=!1,this.parsed.loadXML(this.xml);this.each("eagle",this.parsed,function(a){Eagle.version=Eagle.discernType(a.getAttribute("version"))}),this.each("drawing",this.parsed,function(a){Eagle.clear();var b=new Eagle.Drawing;b.parse(a),Eagle.drawing=b})},beginPath:function(){return this.last.x=0,this.last.y=0,this.context.beginPath(),this},moveTo:function(a,b,c){return c="undefined"!=typeof c?c:!1,c&&(a=this.last.x+a,b=this.last.y+b),this.context.moveTo(a,this.canvas.height-b),this.last.x=a,this.last.y=b,this},lineTo:function(a,b,c){return c="undefined"!=typeof c?c:!1,c&&(a=this.last.x+a,b=this.last.y+b),this.context.lineTo(a,this.canvas.height-b),this.last.x=a,this.last.y=b,this},closePath:function(){return this.last.x=0,this.last.y=0,this.context.closePath(),this},get:function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&b(c.responseText)},c.open("GET",a,!0),c.send()},clear:function(){Eagle.context.clearRect(0,0,Eagle.canvas.width,Eagle.canvas.height)},each:function(a,b,c){for(var d=b.getElementsByTagName(a),e=0;e<d.length;e++)c(d[e])}};Eagle.define("Eagle.Approved",function(){this.hash=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Attribute",function(){this.name=null,this.value=null,this.x=null,this.y=null,this.size=null,this.layer=null,this.font=null,this.ratio=null,this.rot=0,this.display="value",this.constant=!1,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Bus",function(){this.name=null,this.segment=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("segment",a).each(function(){var a=new Eagle.Segment;a.parse(this),b.segment=a})}}),Eagle.define("Eagle.Circle",function(){this.x=null,this.y=null,this.radius=null,this.width=null,this.layer=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Class",function(){this.number=null,this.name=null,this.width=0,this.drill=0,this.clearance=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("clearance",a).each(function(){var a=new Eagle.Clearance;a.parse(this),b.clearance=a})}}),Eagle.define("Eagle.Clearance",function(){this["class"]=null,this.value=0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Connect",function(){this.gate=null,this.pin=null,this.pad=null,this.route="all",this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Description",function(){this.language="en",this.content=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),this.content=$(a).html()}}),Eagle.define("Eagle.Device",function(){this.name=null,this["package"]=null,this.connects=[],this.technologies=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("connects",a).each(function(){$("connect",this).each(function(){var a=new Eagle.Connect;a.parse(this),b.connects.push(a)})}),$("technologies",a).each(function(){$("technology",this).each(function(){var a=new Eagle.Technology;a.parse(this),b.technologies.push(a)})})}}),Eagle.define("Eagle.DeviceSet",function(){this.name=null,this.prefix=null,this.uservalue=!1,this.description=null,this.gates=[],this.devices=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("description",a).each(function(){var a=new Eagle.Description;a.parse(this),b.description=a}),$("gates",a).each(function(){$("gate",this).each(function(){var a=new Eagle.Gate;a.parse(this),b.gates.push(a)})}),$("devices",a).each(function(){$("device",this).each(function(){var a=new Eagle.Device;a.parse(this),b.devices.push(a)})})}}),Eagle.define("Eagle.Drawing",function(){this.settings=null,this.grid=null,this.schematic=null,this.board=null,this.layers=[],this.parse=function(a){var b=this;Eagle.each("grid",a,function(a){var c=new Eagle.Grid;c.parse(a),b.grid=c}),Eagle.each("settings",a,function(a){var c=new Eagle.Settings;c.parse(a),b.settings=c}),Eagle.each("schematic",a,function(a){var c=new Eagle.Schematic;c.parse(a),b.schematic=c}),Eagle.each("board",a,function(a){var c=new Eagle.Board;c.parse(a),b.board=c}),Eagle.each("layers",a,function(a){Eagle.each("layer",a,function(a){var c=new Eagle.Layer;c.parse(a),b.layers.push(c)})})}}),Eagle.define("Eagle.Frame",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.columns=null,this.rows=null,this.layer=null,this["border-left"]=!0,this["border-top"]=!0,this["border-right"]=!0,this["border-bottom"]=!0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Gate",function(){this.name=null,this.symbol=null,this.x=null,this.y=null,this.addlevel="next",this.swaplevel=0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Grid",function(){this.distance=null,this.unitdist=null,this.unit=null,this.style="lines",this.multiple=1,this.display=!1,this.altdistance=null,this.altunitdist=null,this.altunit=null,this.path=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){if(!this.display)return!1;var a="";width=Eagle.paper.width,height=Eagle.paper.height;for(var b=0;height>b;b+=this.distance)a+=Eagle.moveTo(0,b),a+=Eagle.lineTo(width,b);for(var c=0;width>c;c+=this.distance)a+=Eagle.moveTo(c,0),a+=Eagle.lineTo(c,height);Eagle.paper.path(a).attr({"stroke-width":.1})}}),Eagle.define("Eagle.Hole",function(){this.x=null,this.y=null,this.drill=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Instance",function(){this.part=null,this.gate=null,this.x=null,this.y=null,this.smashed=!1,this.rot=0,this.attribute=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("attribute",a).each(function(){var a=new Eagle.Attribute;a.parse(this),b.attribute=a})},this.draw=function(){}}),Eagle.define("Eagle.Junction",function(){this.x=null,this.y=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Label",function(){this.x=null,this.y=null,this.size=null,this.layer=null,this.font="proportional",this.ratio=8,this.rot=0,this.xref=!1,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Layer",function(){this.number=null,this.name=null,this.color=null,this.fill=null,this.visible=!0,this.active=!0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Library",function(){this.name=null,this.description=null,this.packages=[],this.symbols=[],this.devicesets=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("description",a).each(function(){var a=new Eagle.Description;a.parse(this),b.description=a}),$("packages",a).each(function(){$("package",this).each(function(){var a=new Eagle.Package;a.parse(this),b.packages.push(a)})}),$("symbols",a).each(function(){$("symbol",this).each(function(){var a=new Eagle.Symbol;a.parse(this),b.symbols.push(a)})}),$("devicesets",a).each(function(){$("deviceset",this).each(function(){var a=new Eagle.DeviceSet;a.parse(this),b.devicesets.push(a)})})},this.getSymbol=function(a){$.each(this.symbols,function(b,c){return c.name==a?a:void 0})}}),Eagle.define("Eagle.Net",function(){this.name=null,this["class"]=0,this.segment=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("segment",a).each(function(){var a=new Eagle.Segment;a.parse(this),b.segment=a})}}),Eagle.define("Eagle.Package",function(){this.name=null,this.description=null,this.types=[],this.valid_types=["Polygon","Wire","Text","Circle","Rectangle","Frame","Hole","Pad","SMD"],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("description",a).each(function(){var a=new Eagle.Description;a.parse(this),b.description=a}),$.each(this.valid_types,function(c,d){$(d.toLowerCase(),a).each(function(){var a=Eagle[d],c=new a;c.parse(this),b.types.push(c)})})}}),Eagle.define("Eagle.Pad",function(){this.name=null,this.x=null,this.y=null,this.drill=null,this.diameter=0,this.shape="round",this.rot=0,this.stop=!0,this.thermals=!0,this.first=!0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Param",function(){this.name=null,this.value=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Part",function(){this.name=null,this.library=null,this.deviceset=null,this.device=null,this.technology=null,this.value=null,this.attributes=[],this.variants=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("attributes",a).each(function(){var a=new Eagle.Attribute;a.parse(this),b.attributes.push(a)}),$("variant",a).each(function(){var a=new Eagle.Variant;a.parse(this),b.variants.push(a)})}}),Eagle.define("Eagle.Pass",function(){this.name=null,this.refer=null,this.active=!0,this.param=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("param",a).each(function(){var a=new Eagle.Param;a.parse(this),b.param=a})}}),Eagle.define("Eagle.Pin",function(){this.name=null,this.x=null,this.y=null,this.visible="both",this.length="long",this.direction="io",this["function"]="none",this.swaplevel=0,this.rot=0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.PinRef",function(){this.part=null,this.gate=null,this.pin=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Polygon",function(){this.width=null,this.layer=null,this.spacing=null,this.pour="solid",this.isolate=null,this.orphans=!1,this.thermals=!0,this.rank=0,this.vertices=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("vertex",a).each(function(){var a=new Eagle.Vertex;a.parse(this),b.vertex.push(a)})}}),Eagle.define("Eagle.Rectangle",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.layer=null,this.rot=0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.SMD",function(){this.name=null,this.x=null,this.y=null,this.dx=null,this.dy=null,this.layer=null,this.roundness=0,this.rot=0,this.stop=!0,this.thermals=!0,this.cream=!0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Schematic",function(){this.xreflabel=null,this.xrefpart=null,this.libraries=[],this.attributes=[],this.variantdefs=[],this.classes=[],this.parts=[],this.sheets=[],this.errors=[],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("libraries",a).each(function(){$("library",this).each(function(){var a=new Eagle.Library;a.parse(this),b.libraries.push(a)})}),$("attributes",a).each(function(){$("attribute",this).each(function(){var a=new Eagle.Attribute;a.parse(this),b.attributes.push(a)})}),$("variantdefs",a).each(function(){$("variantdef",this).each(function(){var a=new Eagle.VariantDef;a.parse(this),b.variantdefs.push(a)})}),$("classes",a).each(function(){$("class",this).each(function(){var a=new Eagle.Class;a.parse(this),b.classes.push(a)})}),$("parts",a).each(function(){$("part",this).each(function(){var a=new Eagle.Part;a.parse(this),b.parts.push(a)})}),$("sheets",a).each(function(){$("sheet",this).each(function(){var a=new Eagle.Sheet;a.parse(this),b.sheets.push(a)})}),$("errors",a).each(function(){$("error",this).each(function(){var a=new Eagle.Error;a.parse(this),b.errors.push(a)})})}}),Eagle.define("Eagle.Segment",function(){this.type=null,this.valid_types=["PinRef","Wire","Junction","Label"],this.parse=function(){var a=this;Ea.each(this.valid_types,function(b,c){$(c.toLowerCase(),el).each(function(){var b=Eagle[c],d=new b;d.parse(this),"Wire"==c&&d.draw(),a.type=d})})}}),Eagle.define("Eagle.Settings",function(){this.alwaysvectorfont=null,this.verticaltext="up",this.parse=function(a){var b=this;$("setting",a).each(function(){$.each(this.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})})}}),Eagle.define("Eagle.Sheet",function(){this.description=null,this.instances=[],this.busses=[],this.nets=[],this.parse=function(a){var b=this;$("description",a).each(function(){var a=new Eagle.Description;a.parse(this),b.description=a}),$("instances",a).each(function(){$("instance",this).each(function(){var a=new Eagle.Instance;a.parse(this),b.instances.push(a)})}),$("busses",a).each(function(){$("bus",this).each(function(){var a=new Eagle.Bus;a.parse(this),b.busses.push(a)})}),$("nets",a).each(function(){$("net",this).each(function(){var a=new Eagle.Net;a.parse(this),b.nets.push(a)})})}}),Eagle.define("Eagle.Symbol",function(){this.name=null,this.description=null,this.types=[],this.valid_types=["Polygon","Wire","Text","Pin","Circle","Rectangle","Frame"],this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),$("description",a).each(function(){var a=new Eagle.Description;a.parse(this),b.description=a}),$.each(this.valid_types,function(c,d){$(d.toLowerCase(),a).each(function(){var a=Eagle[d],c=new a;c.parse(this),b.types.push(c)})})}}),Eagle.define("Eagle.Technology",function(){this.name=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Text",function(){this.x=null,this.y=null,this.size=null,this.layer=null,this.font="proportional",this.ratio=8,this.rot=0,this.align="bottom-left",this.content=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),this.content=$(a).html()}}),Eagle.define("Eagle.Variant",function(){this.name=null,this.populate=!0,this.value=null,this.technology=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.VariantDef",function(){this.name=null,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Vertex",function(){this.x=null,this.y=null,this.curve=0,this.parse=function(a){var b=this;$.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Wire",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.width=null,this.layer=null,this.extent=null,this.style="continuous",this.curve=0,this.cap="round",this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a){b[a.name]=Eagle.discernType(a.value)})},this.draw=function(){Eagle.beginPath().moveTo(this.x1,this.y1).lineTo(this.x2,this.y2).closePath().stroke(this.width,"red")}});