/*! eagle-diff version 0.0.1 2013-11-07 5:03:26 PM MST */
var Eagle={multiplier:100,version:null,drawing:null,xml:null,canvas:null,context:null,last:{x:0,y:0},define:function(a,b){for(var c=a.split("."),d=window,e=0,f=c.length;f>e;e++)d[c[e]]=d[c[e]]||b,d=d[c[e]];return d},discernType:function(a){return isNaN(a)?"no"==a||"yes"==a?"yes"==a?!0:!1:a:(a=parseFloat(a),a%1===0?parseInt(a):a)},init:function(a,b){this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.context.mozImageSmoothingEnabled=!1,this.context.webkitImageSmoothingEnabled=!1,Eagle.get(b,function(a){Eagle.xml=a,Eagle.parse()})},parse:function(){if(!this.xml)throw"Loading failed";if(window.DOMParser){var a=new DOMParser;this.parsed=a.parseFromString(this.xml,"text/xml")}else this.parsed=new ActiveXObject("Microsoft.XMLDOM"),this.parsed.async=!1,this.parsed.loadXML(this.xml);this.eachNode("eagle",this.parsed,function(a){Eagle.version=Eagle.discernType(a.getAttribute("version"))}),this.eachNode("drawing",this.parsed,function(a){Eagle.clear(),Eagle.drawing=new Eagle.Drawing,Eagle.drawing.parse(a)})},get:function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&b(c.responseText)},c.open("GET",a,!0),c.send()},beginPath:function(){return this.last.x=0,this.last.y=0,this.context.beginPath(),this},moveTo:function(a,b,c){return c="undefined"!=typeof c?c:!1,c&&(a=this.last.x+a,b=this.last.y+b),this.context.moveTo(this.canvas.width/2+a,this.canvas.height/2-b),this.last.x=a,this.last.y=b,this},lineTo:function(a,b,c){return c="undefined"!=typeof c?c:!1,c&&(a=this.last.x+a,b=this.last.y+b),this.context.lineTo(this.canvas.width/2+a,this.canvas.height/2-b),this.last.x=a,this.last.y=b,this},closePath:function(){return this.last.x=0,this.last.y=0,this.context.closePath(),this},stroke:function(a,b){this.context.lineWidth=a,this.context.strokeStyle=b,this.context.stroke()},clear:function(){Eagle.context.clearRect(0,0,Eagle.canvas.width,Eagle.canvas.height)},each:function(a,b){if(a instanceof Array)for(var c=0;c<a.length;c++)b(c,a[c]);else if("object"==typeof a)for(var d in a)b(d,a[d])},eachNode:function(a,b,c){for(var d=b.getElementsByTagName(a),e=0;e<d.length;e++)c(d[e])}};Eagle.define("Eagle.Approved",function(){this.hash=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Attribute",function(){this.name=null,this.value=null,this.x=null,this.y=null,this.size=null,this.layer=null,this.font=null,this.ratio=null,this.rot=0,this.display="value",this.constant=!1,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Bus",function(){this.name=null,this.segment=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("segment",a,function(a){var c=new Eagle.Segment;c.parse(a),b.segment=c})}}),Eagle.define("Eagle.Circle",function(){this.x=null,this.y=null,this.radius=null,this.width=null,this.layer=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Class",function(){this.number=null,this.name=null,this.width=0,this.drill=0,this.clearance=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("clearance",a,function(a){var c=new Eagle.Clearance;c.parse(a),b.clearance=c})}}),Eagle.define("Eagle.Clearance",function(){this["class"]=null,this.value=0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Connect",function(){this.gate=null,this.pin=null,this.pad=null,this.route="all",this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Description",function(){this.language="en",this.content=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),this.content=a.textContent}}),Eagle.define("Eagle.Device",function(){this.name=null,this["package"]=null,this.connects=[],this.technologies=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("connects",a,function(a){Eagle.eachNode("connect",a,function(a){var c=new Eagle.Connect;c.parse(a),b.connects.push(c)})}),Eagle.eachNode("technologies",a,function(a){Eagle.eachNode("technology",a,function(a){var c=new Eagle.Technology;c.parse(a),b.technologies.push(c)})})}}),Eagle.define("Eagle.DeviceSet",function(){this.name=null,this.prefix=null,this.uservalue=!1,this.description=null,this.gates=[],this.devices=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("description",a,function(a){var c=new Eagle.Description;c.parse(a),b.description=c}),Eagle.eachNode("gates",a,function(a){Eagle.eachNode("gate",a,function(a){var c=new Eagle.Gate;c.parse(a),b.gates.push(c)})}),Eagle.eachNode("devices",a,function(a){Eagle.eachNode("device",a,function(a){var c=new Eagle.Device;c.parse(a),b.devices.push(c)})})}}),Eagle.define("Eagle.Drawing",function(){this.settings=null,this.grid=null,this.schematic=null,this.board=null,this.layers=[],this.parse=function(a){var b=this;Eagle.eachNode("layers",a,function(a){Eagle.eachNode("layer",a,function(a){var c=new Eagle.Layer;c.parse(a),b.layers.push(c)})}),Eagle.eachNode("grid",a,function(a){var c=new Eagle.Grid;c.parse(a),b.grid=c}),Eagle.eachNode("settings",a,function(a){var c=new Eagle.Settings;c.parse(a),b.settings=c}),Eagle.eachNode("schematic",a,function(a){var c=new Eagle.Schematic;c.parse(a),b.schematic=c}),Eagle.eachNode("board",a,function(a){var c=new Eagle.Board;c.parse(a),b.board=c})},this.getLayer=function(a){var b=!1;return Eagle.each(this.layers,function(c,d){d.number==a&&(b=d)}),b}}),Eagle.define("Eagle.Frame",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.columns=null,this.rows=null,this.layer=null,this["border-left"]=!0,this["border-top"]=!0,this["border-right"]=!0,this["border-bottom"]=!0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Gate",function(){this.name=null,this.symbol=null,this.x=null,this.y=null,this.addlevel="next",this.swaplevel=0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Grid",function(){this.distance=null,this.unitdist=null,this.unit=null,this.style="lines",this.multiple=1,this.display=!1,this.altdistance=null,this.altunitdist=null,this.altunit=null,this.path=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){if(!this.display)return!1;var a=Eagle.canvas.width,b=Eagle.canvas.height;Eagle.beginPath();for(var c=0;b>c;c+=this.distance)Eagle.moveTo(0,c),Eagle.lineTo(a,c);for(var d=0;a>d;d+=this.distance)Eagle.moveTo(d,0),Eagle.lineTo(d,b);Eagle.closePath(),Eagle.stroke(.1,"#000")}}),Eagle.define("Eagle.Hole",function(){this.x=null,this.y=null,this.drill=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Instance",function(){this.part=null,this.gate=null,this.x=null,this.y=null,this.smashed=!1,this.rot=0,this.attribute=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("attribute",a,function(a){var c=new Eagle.Attribute;c.parse(a),b.attribute=c})},this.draw=function(){}}),Eagle.define("Eagle.Junction",function(){this.x=null,this.y=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){}}),Eagle.define("Eagle.Label",function(){this.x=null,this.y=null,this.size=null,this.layer=null,this.font="proportional",this.ratio=8,this.rot=0,this.xref=!1,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){}}),Eagle.define("Eagle.Layer",function(){this.number=null,this.name=null,this.color=null,this.fill=null,this.visible=!0,this.active=!0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Library",function(){this.name=null,this.description=null,this.packages=[],this.symbols=[],this.devicesets=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("description",a,function(a){var c=new Eagle.Description;c.parse(a),b.description=c}),Eagle.eachNode("packages",a,function(a){Eagle.eachNode("package",a,function(a){var c=new Eagle.Package;c.parse(a),b.packages.push(c)})}),Eagle.eachNode("symbols",a,function(a){Eagle.eachNode("symbol",a,function(a){var c=new Eagle.Symbol;c.parse(a),b.symbols.push(c)})}),Eagle.eachNode("devicesets",a,function(a){Eagle.eachNode("deviceset",a,function(a){var c=new Eagle.DeviceSet;c.parse(a),b.devicesets.push(c)})})},this.getSymbol=function(a){Eagle.each(this.symbols,function(b,c){return c.name==a?a:void 0})}}),Eagle.define("Eagle.Net",function(){this.name=null,this["class"]=0,this.segment=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("segment",a,function(a){var c=new Eagle.Segment;c.parse(a),b.segment=c})}}),Eagle.define("Eagle.Package",function(){this.name=null,this.description=null,this.types=[],this.valid_types=["Polygon","Wire","Text","Circle","Rectangle","Frame","Hole","Pad","SMD"],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("description",a,function(a){var c=new Eagle.Description;c.parse(a),b.description=c}),Eagle.each(this.valid_types,function(c,d){Eagle.eachNode(d.toLowerCase(),a,function(a){var c=Eagle[d],e=new c;e.parse(a),b.types.push(e)})})}}),Eagle.define("Eagle.Pad",function(){this.name=null,this.x=null,this.y=null,this.drill=null,this.diameter=0,this.shape="round",this.rot=0,this.stop=!0,this.thermals=!0,this.first=!0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Param",function(){this.name=null,this.value=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Part",function(){this.name=null,this.library=null,this.deviceset=null,this.device=null,this.technology=null,this.value=null,this.attributes=[],this.variants=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("attributes",a,function(a){var c=new Eagle.Attribute;c.parse(a),b.attributes.push(c)}),Eagle.eachNode("variant",a,function(a){var c=new Eagle.Variant;c.parse(a),b.variants.push(c)})}}),Eagle.define("Eagle.Pass",function(){this.name=null,this.refer=null,this.active=!0,this.param=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("param",a,function(a){var c=new Eagle.Param;c.parse(a),b.param=c})}}),Eagle.define("Eagle.Pin",function(){this.name=null,this.x=null,this.y=null,this.visible="both",this.length="long",this.direction="io",this["function"]="none",this.swaplevel=0,this.rot=0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.PinRef",function(){this.part=null,this.gate=null,this.pin=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){}}),Eagle.define("Eagle.Polygon",function(){this.width=null,this.layer=null,this.spacing=null,this.pour="solid",this.isolate=null,this.orphans=!1,this.thermals=!0,this.rank=0,this.vertices=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("vertex",a,function(a){var c=new Eagle.Vertex;c.parse(a),b.vertex.push(c)})}}),Eagle.define("Eagle.Rectangle",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.layer=null,this.rot=0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.SMD",function(){this.name=null,this.x=null,this.y=null,this.dx=null,this.dy=null,this.layer=null,this.roundness=0,this.rot=0,this.stop=!0,this.thermals=!0,this.cream=!0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Schematic",function(){this.xreflabel=null,this.xrefpart=null,this.libraries=[],this.attributes=[],this.variantdefs=[],this.classes=[],this.parts=[],this.sheets=[],this.errors=[],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("libraries",a,function(a){Eagle.eachNode("library",a,function(a){var c=new Eagle.Library;c.parse(a),b.libraries.push(c)})}),Eagle.eachNode("attributes",a,function(a){Eagle.eachNode("attribute",a,function(a){var c=new Eagle.Attribute;c.parse(a),b.attributes.push(c)})}),Eagle.eachNode("variantdefs",a,function(a){Eagle.eachNode("variantdef",a,function(a){var c=new Eagle.VariantDef;c.parse(a),b.variantdefs.push(c)})}),Eagle.eachNode("classes",a,function(a){Eagle.eachNode("class",a,function(a){var c=new Eagle.Class;c.parse(a),b.classes.push(c)})}),Eagle.eachNode("parts",a,function(a){Eagle.eachNode("part",a,function(a){var c=new Eagle.Part;c.parse(a),b.parts.push(c)})}),Eagle.eachNode("sheets",a,function(a){Eagle.eachNode("sheet",a,function(a){var c=new Eagle.Sheet;c.parse(a),b.sheets.push(c)})}),Eagle.eachNode("errors",a,function(a){Eagle.eachNode("error",a,function(a){var c=new Eagle.Error;c.parse(a),b.errors.push(c)})})}}),Eagle.define("Eagle.Segment",function(){this.type=null,this.valid_types=["PinRef","Wire","Junction","Label"],this.parse=function(a){var b=this;Eagle.each(this.valid_types,function(c,d){Eagle.eachNode(d.toLowerCase(),a,function(a){var c=Eagle[d],e=new c;e.parse(a),b.type=e,b.type.draw()})})}}),Eagle.define("Eagle.Settings",function(){this.alwaysvectorfont=null,this.verticaltext="up",this.parse=function(a){var b=this;Eagle.eachNode("setting",a,function(a){Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})})}}),Eagle.define("Eagle.Sheet",function(){this.description=null,this.instances=[],this.busses=[],this.nets=[],this.parse=function(a){var b=this;Eagle.eachNode("description",a,function(a){var c=new Eagle.Description;c.parse(a),b.description=c}),Eagle.eachNode("instances",a,function(a){Eagle.eachNode("instance",a,function(a){var c=new Eagle.Instance;c.parse(a),b.instances.push(c)})}),Eagle.eachNode("busses",a,function(a){Eagle.eachNode("bus",a,function(a){var c=new Eagle.Bus;c.parse(a),b.busses.push(c)})}),Eagle.eachNode("nets",a,function(a){Eagle.eachNode("net",a,function(a){var c=new Eagle.Net;c.parse(a),b.nets.push(c)})})}}),Eagle.define("Eagle.Symbol",function(){this.name=null,this.description=null,this.types=[],this.valid_types=["Polygon","Wire","Text","Pin","Circle","Rectangle","Frame"],this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),Eagle.eachNode("description",a,function(a){var c=new Eagle.Description;c.parse(a),b.description=c}),Eagle.each(this.valid_types,function(c,d){Eagle.eachNode(d.toLowerCase(),a,function(a){var c=Eagle[d],e=new c;e.parse(a),b.types.push(e)})})}}),Eagle.define("Eagle.Technology",function(){this.name=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Text",function(){this.x=null,this.y=null,this.size=null,this.layer=null,this.font="proportional",this.ratio=8,this.rot=0,this.align="bottom-left",this.content=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)}),this.content=a.textContent}}),Eagle.define("Eagle.Variant",function(){this.name=null,this.populate=!0,this.value=null,this.technology=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.VariantDef",function(){this.name=null,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Vertex",function(){this.x=null,this.y=null,this.curve=0,this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})}}),Eagle.define("Eagle.Wire",function(){this.x1=null,this.y1=null,this.x2=null,this.y2=null,this.width=null,this.layer=null,this.extent=null,this.style="continuous",this.curve=0,this.cap="round",this.parse=function(a){var b=this;Eagle.each(a.attributes,function(a,c){b[c.name]=Eagle.discernType(c.value)})},this.draw=function(){var a=Eagle.drawing.getLayer(this.layer);a&&a.visible&&a.active&&Eagle.beginPath().moveTo(2*this.x1,2*this.y1).lineTo(2*this.x2,2*this.y2).closePath().stroke(2*this.width,"#000")}});